var videoColorizer=videoColorizer||{};~function(a){a.extend(videoColorizer,{$_target:null,$_draggable:null,$_activeVideo:null,$_nextVideo:null,$_activeCarousel:null,$_nextCarousel:null,$_videos:null,debounce:!0,intAnimActive:!1,extAnimActive:!1,innerTimer:null,outerTimer:null,videoLength:7,curTime:0,numOfAngles:4,curAngle:0,init:function(b){var c=this;c.$_target=a(b),c.$_activeVideo=c.$_target.find(".video_player.active"),c.$_activeCarousel=c.$_target.find(".carousel-custom.active"),c.$_videos=c.$_target.find(".video_player"),c.$_target.length>0&&(c.$_draggable=a(".dragable").draggabilly({containment:!0}),c.$_target.find(".carousel-custom").slick({prevArrow:'<span class="mmScrollBtn prev"></span>',nextArrow:'<span class="mmScrollBtn next"></span>'}),c.callBindings())},callBindings:function(){var b=this;b.$_target.find(".carousel-custom").on("afterChange",function(a,c,d){b.$_target.find(".carousel-custom:not(.active)").slick("goTo",d)}),b.$_target.find(".tool-tip").on("click",function(a){a.stopPropagation()}),b.$_target.find(".exterior").on("click",function(){a(this).addClass("active"),b.$_target.find(".interior").removeClass("active"),b.$_target.find(".video-container, .video-container .mmScrollBtn, .ext-colors").removeClass("hide-custom"),b.$_target.find(".int-colors").addClass("hide-custom"),b.$_target.find(".carousel-container").addClass("hide-custom")}),b.$_target.find(".interior").on("click",function(){b.$_target.find(".exterior").removeClass("active"),a(this).addClass("active"),b.$_target.find(".video-container, .video-container .mmScrollBtn, .ext-colors").addClass("hide-custom"),b.$_target.find(".int-colors").removeClass("hide-custom"),b.$_target.find(".carousel-container").removeClass("hide-custom")}),b.$_target.find(".ext-colors .color-chip").on("click",function(){a(this).hasClass("active")||(b.extAnimActive&&(window.clearTimeout(b.innerTimer),window.clearTimeout(b.outerTimer),null!==b.$_nextVideo?(b.$_activeVideo.removeClass("active"),b.$_activeVideo=b.$_nextVideo,b.innerTimer=window.setTimeout(function(){b.$_target.find(".video_player[style]").removeAttr("style"),b.extAnimActive=!1},500)):(b.$_activeVideo.removeAttr("style"),b.extAnimActive=!1)),b.extAnimActive=!0,b.$_nextVideo=b.$_target.find(".video_player[data-index="+a(this).data("index")+"]"),b.$_target.find(".ext-colors .color-chip.active").removeClass("active"),a(this).addClass("active"),b.$_nextVideo.css("z-index",2).addClass("active"),b.outerTimer=window.setTimeout(function(){b.$_activeVideo.removeClass("active"),b.$_activeVideo=b.$_nextVideo,b.$_nextVideo=null,b.innerTimer=window.setTimeout(function(){b.$_activeVideo.removeAttr("style"),b.extAnimActive=!1},500)},500))}),b.$_target.find(".int-colors .color-chip").on("click",function(){a(this).hasClass("active")||(b.intAnimActive&&(window.clearTimeout(b.innerTimer),window.clearTimeout(b.outerTimer),null!==b.$_nextCarousel?(b.$_activeCarousel.removeClass("active"),b.$_activeCarousel=b.$_nextCarousel,b.innerTimer=window.setTimeout(function(){b.$_target.find(".carousel-custom[style]").removeAttr("style"),b.intAnimActive=!1},500)):(b.$_activeCarousel.removeAttr("style"),b.intAnimActive=!1)),b.intAnimActive=!0,b.$_nextCarousel=b.$_target.find(".carousel-custom[data-index="+a(this).data("index")+"]"),b.$_target.find(".int-colors .color-chip.active").removeClass("active"),a(this).addClass("active"),b.$_nextCarousel.css("z-index",2).addClass("active"),b.outerTimer=window.setTimeout(function(){b.$_activeCarousel.removeClass("active"),b.$_activeCarousel=b.$_nextCarousel,b.$_nextCarousel=null,b.innerTimer=window.setTimeout(function(){b.$_activeCarousel.removeAttr("style"),b.intAnimActive=!1},500)},500))}),b.$_target.find(".video-container .next").on("click",function(){b.curTime-=.78,b.curTime<.75&&(b.curTime=b.videoLength-1.56),b.$_activeVideo[0].currentTime=b.curTime,b.$_activeVideo[0].pause(),b.$_videos.each(function(){this.currentTime=b.curTime})}),b.$_target.find(".video-container .prev").on("click",function(){b.curTime+=.78,b.curTime>5.5?b.curTime=.78:b.curTime<=.78&&(b.curTime=1.56),b.$_activeVideo[0].currentTime=b.curTime,b.$_activeVideo[0].pause(),b.$_videos.each(function(){this.currentTime=b.curTime})});var c=0;b.$_draggable.on("pointerDown",function(a,b){c=0}),b.$_draggable.on("pointerMove",function(a,d,e){b.$_activeVideo.each(function(){b.debounce&&(b.debounce=!1,b.curTime+=(c-e.x)/150,c=e.x,b.curTime>b.videoLength?b.curTime-=b.videoLength:b.curTime<0&&(b.curTime+=b.videoLength),b.$_activeVideo[0].currentTime=b.curTime,b.$_activeVideo[0].pause(),window.setTimeout(function(){b.debounce=!0},75))})}),b.$_draggable.on("pointerUp",function(){b.$_videos.each(function(){this.currentTime=b.curTime})})},goToAngle:function(a){var b,c=this,d=c.videoLength*(a/c.numOfAngles);c.curTime>d?b=window.setInterval(function(){c.curTime-=.1,c.$_activeVideo[0].currentTime=c.curTime,c.$_activeVideo[0].pause(),c.curTime<=d&&(c.$_videos.each(function(){this.currentTime=c.curTime}),clearInterval(b))},75):c.curTime<d&&(b=window.setInterval(function(){c.curTime+=.1,c.$_activeVideo[0].currentTime=c.curTime,c.$_activeVideo[0].pause(),c.curTime>=d&&(c.$_videos.each(function(){this.currentTime=c.curTime}),clearInterval(b))},75))}}),a(document).ready(function(){videoColorizer.init("#video-colorizer")})}(jQuery);